package ZapetajkiS5Threada;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;
import java.util.concurrent.Future;

public class Zapetajki {
	
		private static final int COUNT_OF_DIFFERENT_THREADS = 5;	
		
		
		
		
		public static void main(String[] args) throws InterruptedException {
			
			//int counter = 0;

			Scanner scanner = new Scanner(System.in);
			try {
				scanner = new Scanner(new File("war_peace.txt"));
			} catch (FileNotFoundException e) {
				e.printStackTrace();
			}
			StringBuilder builder = new StringBuilder();

			while (scanner.hasNextLine()) {
				builder.append(scanner.nextLine());
			}
			String allElements = builder.toString();
			int partForAnalize = allElements.length() /COUNT_OF_DIFFERENT_THREADS;
			
			
			System.out.println("Celiqt text sudurza " + "\"" + allElements.length() + "\"" + " simvola.");
			System.out.println("Broj simvoli za edin tread " + "\"" + partForAnalize + "\"");
			
			long start = System.currentTimeMillis();
			
			MyThread tes = new MyThread(allElements.substring(partForAnalize, (partForAnalize * 2)));
			Thread thread2 = new Thread(tes);
			
			MyThread thread1 = new MyThread(allElements.substring(0, partForAnalize));
			
			Thread thread3 = new Thread(new MyThread(allElements.substring((partForAnalize * 2), (partForAnalize * 3))));
			MyThread thread4 = new MyThread(allElements.substring((partForAnalize * 3),(partForAnalize * 4)));
			Thread thread5 = new Thread(new MyThread(allElements.substring((partForAnalize * 4), allElements.length())));
			
			new Thread(thread1).start();
			
			thread2.start();
			thread2.join();
			System.out.println(tes.getValue());
			
			thread3.start();
			new Thread(thread4).start();
			thread5.start();
			
			System.out.println(thread1.getValue() + " opaaaaa");
			System.out.println(thread4.getValue() + "malee");
			 //tova mi vze silite, ne namiram kak da vzema celiq sbor na zapetajki...
			System.out.println("Obsht broj zapetajki = " + "smqtat se s kalkulator :)");
			
			System.out.println("Time " + (System.currentTimeMillis()- start));
		}

	}

	
