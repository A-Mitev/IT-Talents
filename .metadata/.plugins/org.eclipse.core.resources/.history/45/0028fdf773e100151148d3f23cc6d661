package tast1_1Bank;

import java.util.List;

public class Bank {

	private String name;
	private String address;
	

	private List<BankProduct> bankProducts;
	private double availableMoney;
	private double bankReserve;
	
	public Bank(String name, double availableMoney) throws FaliralaBankaException{
		this.setName(name);
		this.setAvailableMoney(availableMoney);
	}

	public void setName(String name) {
		if(name != null & !name.equals("")){
		this.name = name;
		}
	}

	public void setAvailableMoney(double availableMoney) throws FaliralaBankaException {
		double allMoneyInDeposits = 0;
		for (int product = 0; product < bankProducts.size(); product++) {
			if (bankProducts.get(product) instanceof Deposit){
				 allMoneyInDeposits += (((Deposit) bankProducts.get(product))).getAvailability();
			}
			if(bankReserve < allMoneyInDeposits){
				throw new FaliralaBankaException("Bankata e falirala!");
			} else {
				this.availableMoney = availableMoney;
			}
		}
	}
}
