package ZapetajkiS5Threada;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.Scanner;
import java.util.concurrent.atomic.AtomicInteger;


public class Zapetajki {
	
	static AtomicInteger count = new AtomicInteger(0); 
	
	public static void main(String[] args) throws FileNotFoundException {
		
	
	Scanner sc = new Scanner(new File("war_peace.txt"));
	StringBuilder sb = new StringBuilder();

	while (sc.hasNextLine()) {
		String line = sc.nextLine();
		sb.append(line);
		sb.append("\n");
	}
	
	
		long start = System.currentTimeMillis();

		java.util.List<Thread> myWorkers = new ArrayList<Thread>();
		
		for (int part = 0; part <= 4; part++) {
			Thread thread1 = new MyThread(sb.substring((part * sb.length()/5)+1, 
					(part+1) * sb.length()/5));
			thread1.start();
			myWorkers.add(thread1);
		}
		
		
		for (Thread t : myWorkers) {
			t.join();
		}
		
		System.out.println(count);
		System.out.println("Time " + (System.currentTimeMillis() - start));
	}
}
