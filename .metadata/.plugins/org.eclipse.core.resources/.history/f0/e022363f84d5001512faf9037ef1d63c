package ZapetajkiS5Threada;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.Scanner;

public class Zapetajki {

	public static void main(String[] args) throws FileNotFoundException, InterruptedException {

		Scanner scanner = new Scanner(new File("war_peace.txt"));
		StringBuilder builder = new StringBuilder();

		while (scanner.hasNextLine()) {
			builder.append(scanner.nextLine());
		}

		long start = System.currentTimeMillis();

		ArrayList<Thread> someThreads = new ArrayList<Thread>();

		for (int part = 0; part <= 4; part++) {
			Thread thread1 = new MyThread(
					builder.substring((part * builder.length() / 5) + 1, (part + 1) * builder.length() / 5));
			thread1.start();
			someThreads.add(thread1);
		}

		for (Thread t : someThreads) {
			t.join();
		}

		System.out.println(MyThread.count);
		System.out.println("Time " + (System.currentTimeMillis() - start));
	}
}
